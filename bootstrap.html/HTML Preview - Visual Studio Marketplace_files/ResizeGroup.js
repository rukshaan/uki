define("OfficeFabric/components/ResizeGroup/ResizeGroup.base",["require","exports","tslib","react","prop-types","../../Utilities"],function(n,t,i,r,u,f){"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0});e=16;t.getMeasurementCache=function(){var n={};return{getCachedMeasurement:function(t){return t&&t.cacheKey&&n.hasOwnProperty(t.cacheKey)?n[t.cacheKey]:undefined},addMeasurementToCache:function(t,i){t.cacheKey&&(n[t.cacheKey]=i)}}};t.getNextResizeGroupStateProvider=function(n){function f(n,t){var r=u.getCachedMeasurement(n),i;return r!==undefined?r:(i=t(),u.addMeasurementToCache(n,i),i)}function e(n,t,i){for(var o=n,s=f(n,i),e;s>r;){if(e=t(o),e===undefined)return{renderedData:o,resizeDirection:undefined,dataToMeasure:undefined};if(s=u.getCachedMeasurement(e),s===undefined)return{dataToMeasure:e,resizeDirection:"shrink"};o=e}return{renderedData:o,resizeDirection:undefined,dataToMeasure:undefined}}function o(n,t,i){for(var o=n,s=f(n,i),e;s<r;){if(e=t(o),e===undefined)return{renderedData:o,resizeDirection:undefined,dataToMeasure:undefined};if(s=u.getCachedMeasurement(e),s===undefined)return{dataToMeasure:e};o=e}return{dataToMeasure:o,resizeDirection:"shrink"}}function s(n,t,u,f){var e;return e=n>r?f?{resizeDirection:"grow",dataToMeasure:f(u)}:{resizeDirection:"shrink",dataToMeasure:t}:{resizeDirection:"shrink",dataToMeasure:u},r=n,i.__assign({},e,{measureContainer:!1})}function h(n,t,u,f){if(f===undefined&&t.dataToMeasure===undefined)return undefined;if(f){if(r&&t.renderedData&&!t.dataToMeasure)return i.__assign({},t,s(f,n.data,t.renderedData,n.onGrowData));r=f}var h=i.__assign({},t,{measureContainer:!1});return t.dataToMeasure&&(h=t.resizeDirection==="grow"&&n.onGrowData?i.__assign({},h,o(t.dataToMeasure,n.onGrowData,u)):i.__assign({},h,e(t.dataToMeasure,n.onReduceData,u))),h}function c(n){return!n||u.getCachedMeasurement(n)!==undefined?!1:!0}n===void 0&&(n=t.getMeasurementCache());var u=n,r;return{getNextState:h,shouldRenderDataToMeasureInHiddenDiv:c}};var o=f.provideContext({isMeasured:u.bool},function(){return{isMeasured:!0}}),s=f.classNamesFunction(),h=function(n){function u(r){var u=n.call(this,r)||this;return u._nextResizeGroupStateProvider=t.getNextResizeGroupStateProvider(),u._root=f.createRef(),u._measured=f.createRef(),u.state={dataToMeasure:i.__assign({},u.props.data),resizeDirection:"grow",measureContainer:!0},u}return i.__extends(u,n),u.prototype.render=function(){var n=this.props,t=n.onRenderData,c=n.className,l=n.getStyles,a=n.theme,u=this.state,e=u.dataToMeasure,h=u.renderedData,v=f.getNativeProps(this.props,f.divProperties,["data"]),y=s(l,{theme:a,className:c});return r.createElement("div",i.__assign({},v,{className:y.root,ref:this._root}),this._nextResizeGroupStateProvider.shouldRenderDataToMeasureInHiddenDiv(e)&&r.createElement("div",{style:{position:"fixed",visibility:"hidden"},ref:this._measured},r.createElement(o,null,t(e))),h&&t(h))},u.prototype.componentDidMount=function(){this._afterComponentRendered();this._events.on(window,"resize",this._async.debounce(this._onResize,e,{leading:!0}))},u.prototype.componentWillReceiveProps=function(n){this.setState({dataToMeasure:i.__assign({},n.data),resizeDirection:"grow",measureContainer:!0})},u.prototype.componentDidUpdate=function(){this.state.renderedData&&this.props.dataDidRender&&this.props.dataDidRender(this.state.renderedData);this._afterComponentRendered()},u.prototype.remeasure=function(){this._root.current&&this.setState({measureContainer:!0})},u.prototype._afterComponentRendered=function(){var n=this;this._async.requestAnimationFrame(function(){var i=undefined,t;n.state.measureContainer&&n._root.current&&(i=n._root.current.getBoundingClientRect().width);t=n._nextResizeGroupStateProvider.getNextState(n.props,n.state,function(){return n._measured.current?n._measured.current.scrollWidth:0},i);t&&n.setState(t)})},u.prototype._onResize=function(){this._root.current&&this.setState({measureContainer:!0})},i.__decorate([f.customizable("ResizeGroup",["theme"])],u)}(f.BaseComponent);t.ResizeGroupBase=h});

