define("OfficeFabric/utilities/decorators/withViewport",["require","exports","tslib","react","./BaseDecorator","../../Utilities"],function(n,t,i,r,u,f){"use strict";function s(n){return function(t){function u(n){var i=t.call(this,n)||this;return i._root=f.createRef(),i._updateViewport=function(n){var u=i.state.viewport,e=i._root.current,s=f.findScrollableParent(e),t=f.getRect(s),r=f.getRect(e),h=function(){n&&i._composedComponentInstance&&i._composedComponentInstance.forceUpdate()},c=(r&&r.width)!==u.width||(t&&t.height)!==u.height;c&&i._resizeAttempts<o&&r&&t?(i._resizeAttempts++,i.setState({viewport:{width:r.width,height:t.height}},function(){i._updateViewport(n)})):(i._resizeAttempts=0,h())},i._resizeAttempts=0,i.state={viewport:{width:0,height:0}},i}return i.__extends(u,t),u.prototype.componentDidMount=function(){this._onAsyncResize=this._async.debounce(this._onAsyncResize,e,{leading:!1});this._events.on(window,"resize",this._onAsyncResize);var n=this.props.skipViewportMeasures;n||this._updateViewport()},u.prototype.componentWillUnmount=function(){this._events.dispose()},u.prototype.render=function(){var t=this.state.viewport,u=this.props.skipViewportMeasures,f=u||t.width>0&&t.height>0;return r.createElement("div",{className:"ms-Viewport",ref:this._root,style:{minWidth:1,minHeight:1}},f&&r.createElement(n,i.__assign({ref:this._updateComposedComponentRef,viewport:t},this.props)))},u.prototype.forceUpdate=function(){this._updateViewport(!0)},u.prototype._onAsyncResize=function(){this._updateViewport()},u}(u.BaseDecorator)}Object.defineProperty(t,"__esModule",{value:!0});var e=500,o=3;t.withViewport=s});

