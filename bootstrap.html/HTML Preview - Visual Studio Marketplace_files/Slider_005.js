define("OfficeFabric/components/Slider/Slider.base",["require","exports","tslib","react","../../Utilities","../../Label","./Slider.scss"],function(n,t,i,r,u,f,e){"use strict";var o,h,s;Object.defineProperty(t,"__esModule",{value:!0});o=e,function(n){n[n.Previous=0]="Previous";n[n.Next=1]="Next"}(h=t.ValuePosition||(t.ValuePosition={}));s=function(n){function t(t){var i=n.call(this,t)||this,r;return i._sliderLine=u.createRef(),i._thumb=u.createRef(),i._getAriaValueText=function(n){if(i.props.ariaValueText&&n!==undefined)return i.props.ariaValueText(n)},i._onMouseDownOrTouchStart=function(n){if(n.type==="mousedown"){i._events.on(window,"mousemove",i._onMouseMoveOrTouchMove,!0);i._events.on(window,"mouseup",i._onMouseUpOrTouchEnd,!0)}else if(n.type==="touchstart"){i._events.on(window,"touchmove",i._onMouseMoveOrTouchMove,!0);i._events.on(window,"touchend",i._onMouseUpOrTouchEnd,!0)}i._onMouseMoveOrTouchMove(n,!0)},i._onMouseMoveOrTouchMove=function(n,t){var a,w,s,h;if(i._sliderLine.current){var c=i.props,v=c.max,e=c.min,l=c.step,y=(v-e)/l,f=i._sliderLine.current.getBoundingClientRect(),b=i.props.vertical?f.height:f.width,p=b/y,r,o;i.props.vertical?(w=i._getPosition(n,i.props.vertical),o=f.bottom-w,r=o/p):(a=i._getPosition(n,i.props.vertical),o=u.getRTL()?f.right-a:a-f.left,r=o/p);r>Math.floor(y)?h=s=v:r<0?h=s=e:(h=e+l*r,s=e+l*Math.round(r));i._updateValue(s,h);t||(n.preventDefault(),n.stopPropagation())}},i._onMouseUpOrTouchEnd=function(){i.setState({renderedValue:i.state.value});i._events.off()},i._onKeyDown=function(n){var t=i.state.value,r=i.props,o=r.max,s=r.min,h=r.step,f=0,e;switch(n.which){case u.getRTLSafeKeyCode(37):case 40:f=-h;break;case u.getRTLSafeKeyCode(39):case 38:f=h;break;case 36:t=s;break;case 35:t=o;break;default:return}e=Math.min(o,Math.max(s,t+f));i._updateValue(e,e);n.preventDefault();n.stopPropagation()},i._warnMutuallyExclusive({value:"defaultValue"}),i._id=u.getId("Slider"),r=t.value||t.defaultValue||t.min,i.state={value:r,renderedValue:r},i}return i.__extends(t,n),t.prototype.componentWillReceiveProps=function(n){if(n.value!==undefined){var t=Math.max(n.min,Math.min(n.max,n.value));this.setState({value:t,renderedValue:t})}},t.prototype.render=function(){var n=this.props,p=n.ariaLabel,tt=n.className,t=n.disabled,c=n.label,w=n.max,l=n.min,b=n.showValue,k=n.buttonProps,s=n.vertical,d=this.state,h=d.value,g=d.renderedValue,a=(g-l)/(w-l)*100,nt=s?"height":"width",it=t?{}:{onMouseDown:this._onMouseDownOrTouchStart},rt=t?{}:{onTouchStart:this._onMouseDownOrTouchStart},ut=t?{}:{onKeyDown:this._onKeyDown},e,v,y;return r.createElement("div",{className:u.css("ms-Slider",o.root,tt,(e={},e["ms-Slider-enabled "+o.rootIsEnabled]=!t,e["ms-Slider-disabled "+o.rootIsDisabled]=t,e["ms-Slider-row "+o.rootIsHorizontal]=!s,e["ms-Slider-column "+o.rootIsVertical]=s,e))},c&&r.createElement(f.Label,i.__assign({className:o.titleLabel},p?{}:{htmlFor:this._id}),c),r.createElement("div",{className:u.css("ms-Slider-container",o.container)},r.createElement("button",i.__assign({"aria-valuenow":h,"aria-valuemin":l,"aria-valuemax":w,"aria-valuetext":this._getAriaValueText(h),"aria-label":p||c},it,rt,ut,k,{className:u.css("ms-Slider-slideBox",o.slideBox,k.className,!!b&&"ms-Slider-showValue",g===h&&"ms-Slider-showTransitions "+o.showTransitions),id:this._id,disabled:t,type:"button",role:"slider"}),r.createElement("div",{ref:this._sliderLine,className:u.css("ms-Slider-line",o.line)},r.createElement("span",{ref:this._thumb,className:u.css("ms-Slider-thumb",o.thumb),style:this._getThumbStyle(s,a)}),r.createElement("span",{className:u.css("ms-Slider-active",o.lineContainer,o.activeSection),style:(v={},v[nt]=a+"%",v)}),r.createElement("span",{className:u.css("ms-Slider-inactive",o.lineContainer,o.inactiveSection),style:(y={},y[nt]=100-a+"%",y)}))),b&&r.createElement(f.Label,{className:u.css("ms-Slider-value",o.valueLabel)},h)))},t.prototype.focus=function(){this._thumb.current&&this._thumb.current.focus()},Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype._getThumbStyle=function(n,t){var r=n?"bottom":u.getRTL()?"right":"left",i;return i={},i[r]=t+"%",i},t.prototype._getPosition=function(n,t){var i;switch(n.type){case"mousedown":case"mousemove":i=t?n.clientY:n.clientX;break;case"touchstart":case"touchmove":i=t?n.touches[0].clientY:n.touches[0].clientX}return i},t.prototype._updateValue=function(n,t){var i=this,r=1/this.props.step,u=Math.round(n*r)/r,f=u!==this.state.value;this.setState({value:u,renderedValue:t},function(){if(f&&i.props.onChange)i.props.onChange(i.state.value)})},t.defaultProps={step:1,min:0,max:10,showValue:!0,disabled:!1,vertical:!1,buttonProps:{}},t}(u.BaseComponent);t.SliderBase=s});

