define("OfficeFabric/components/Calendar/CalendarMonth",["require","exports","tslib","react","../../Utilities","../../FocusZone","../../utilities/dateMath/DateMath","../../Icon","./Calendar.scss"],function(n,t,i,r,u,f,e,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=s,c=4,l=function(n){function t(t){var i=n.call(this,t)||this;return i._onKeyDown=function(n,t){t.which===13&&n()},i._onSelectNextYear=function(){var n=i.props,t=n.navigatedDate,r=n.onNavigateDate;r(e.addYears(t,1),!1)},i._onSelectNextYearKeyDown=function(n){n.which===13&&i._onKeyDown(i._onSelectNextYear,n)},i._onSelectPrevYear=function(){var n=i.props,t=n.navigatedDate,r=n.onNavigateDate;r(e.addYears(t,-1),!1)},i._onSelectPrevYearKeyDown=function(n){n.which===13&&i._onKeyDown(i._onSelectPrevYear,n)},i._onSelectMonthKeyDown=function(n){return function(t){return i._onKeyDown(function(){return i._onSelectMonth(n)},t)}},i._onSelectMonth=function(n){var t=i.props,u=t.navigatedDate,f=t.onNavigateDate,r=t.onHeaderSelect;r&&r(!0);f(e.setMonth(u,n),!0)},i._onHeaderSelect=function(){var n=i.props.onHeaderSelect;n&&n(!0)},i._onHeaderKeyDown=function(n){var t=i.props.onHeaderSelect;t&&(n.which===13||n.which===32)&&t(!0)},i._selectMonthCallbacks=[],t.strings.shortMonths.map(function(n,t){i._selectMonthCallbacks[t]=i._onSelectMonth.bind(i,t)}),i._isCurrentMonth=i._isCurrentMonth.bind(i),i._onSelectNextYear=i._onSelectNextYear.bind(i),i._onSelectPrevYear=i._onSelectPrevYear.bind(i),i._onSelectMonth=i._onSelectMonth.bind(i),i}return i.__extends(t,n),t.prototype.render=function(){for(var b,k,p=this,t=this.props,n=t.navigatedDate,d=t.selectedDate,i=t.strings,ut=t.today,g=t.highlightCurrentMonth,ft=t.highlightSelectedMonth,nt=t.navigationIcons,s=t.dateTimeFormatter,l=t.minDate,a=t.maxDate,tt=[],w=0;w<i.shortMonths.length/c;w++)tt.push(w);var it=nt.leftNavigation,rt=nt.rightNavigation,v=l?e.compareDatePart(l,e.getYearStart(n))<0:!0,y=a?e.compareDatePart(e.getYearEnd(n),a)<0:!0;return r.createElement("div",{className:u.css("ms-DatePicker-monthPicker",h.monthPicker)},r.createElement("div",{className:u.css("ms-DatePicker-header",h.header)},this.props.onHeaderSelect?r.createElement("div",{className:u.css("ms-DatePicker-currentYear js-showYearPicker",h.currentYear,h.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":s.formatYear(n),role:"button",tabIndex:0},s.formatYear(n)):r.createElement("div",{className:u.css("ms-DatePicker-currentYear js-showYearPicker",h.currentYear)},s.formatYear(n)),r.createElement("div",{className:u.css("ms-DatePicker-yearComponents",h.yearComponents)},r.createElement("div",{className:u.css("ms-DatePicker-navContainer",h.navContainer)},r.createElement("button",{className:u.css("ms-DatePicker-prevYear js-prevYear",h.prevYear,(b={},b["ms-DatePicker-prevYear--disabled "+h.prevYearIsDisabled]=!v,b)),disabled:!v,onClick:v?this._onSelectPrevYear:undefined,onKeyDown:v?this._onSelectPrevYearKeyDown:undefined,title:i.prevYearAriaLabel?i.prevYearAriaLabel+" "+s.formatYear(e.addYears(n,-1)):undefined,role:"button",type:"button"},r.createElement(o.Icon,{iconName:u.getRTL()?rt:it})),r.createElement("button",{className:u.css("ms-DatePicker-nextYear js-nextYear",h.nextYear,(k={},k["ms-DatePicker-nextYear--disabled "+h.nextYearIsDisabled]=!y,k)),disabled:!y,onClick:y?this._onSelectNextYear:undefined,onKeyDown:y?this._onSelectNextYearKeyDown:undefined,title:i.nextYearAriaLabel?i.nextYearAriaLabel+" "+s.formatYear(e.addYears(n,1)):undefined,role:"button",type:"button"},r.createElement(o.Icon,{iconName:u.getRTL()?it:rt}))))),r.createElement(f.FocusZone,null,r.createElement("div",{className:u.css("ms-DatePicker-optionGrid",h.optionGrid),role:"grid","aria-readonly":"true"},tt.map(function(t){var f=i.shortMonths.slice(t*c,(t+1)*c);return r.createElement("div",{key:"monthRow_"+t,role:"row"},f.map(function(f,o){var v=t*c+o,b=e.setMonth(n,v),k=p._isCurrentMonth(v,n.getFullYear(),ut),nt=n.getMonth()===v,tt=d.getMonth()===v,it=d.getFullYear()===n.getFullYear(),y=(l?e.compareDatePart(l,e.getMonthEnd(b))<1:!0)&&(a?e.compareDatePart(e.getMonthStart(b),a)<1:!0),w;return r.createElement("button",{role:"gridcell",className:u.css("ms-DatePicker-monthOption",h.monthOption,(w={},w["ms-DatePicker-day--today "+h.monthIsCurrentMonth]=g&&k,w["ms-DatePicker-day--highlighted "+h.monthIsHighlighted]=(g||ft)&&tt&&it,w["ms-DatePicker-monthOption--disabled "+h.monthOptionIsDisabled]=!y,w)),disabled:!y,key:v,onClick:y?p._selectMonthCallbacks[v]:undefined,onKeyDown:y?p._onSelectMonthKeyDown(v):undefined,"aria-label":s.formatMonthYear(b,i),"aria-selected":k||nt,"data-is-focusable":y?!0:undefined,ref:nt?"navigatedMonth":undefined,type:"button"},f)}))}))))},t.prototype.focus=function(){this.refs.navigatedMonth&&(this.refs.navigatedMonth.tabIndex=0,this.refs.navigatedMonth.focus())},t.prototype._isCurrentMonth=function(n,t,i){return i.getFullYear()===t&&i.getMonth()===n},t}(u.BaseComponent);t.CalendarMonth=l});

